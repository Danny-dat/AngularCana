<div class="landing-form card">
  <img class="logo" src="assets/logo.png" alt="Logo" />
  <h2>Registrieren</h2>

  <form (ngSubmit)="doRegister()" #f="ngForm" novalidate>
    <input
      [(ngModel)]="form.email"
      name="email"
      type="email"
      autocomplete="email"
      placeholder="Email"
      required
      [disabled]="isLoading"
    />

    <input
      [(ngModel)]="form.password"
      name="password"
      type="password"
      autocomplete="new-password"
      placeholder="Passwort"
      minlength="6"
      required
      [disabled]="isLoading"
    />

    <input
      [(ngModel)]="form.displayName"
      name="displayName"
      type="text"
      autocomplete="nickname"
      placeholder="Name (Anzeigename/Username)"
      maxlength="20"
      pattern="^[A-Za-z0-9_]{3,20}$"
      required
      [disabled]="isLoading"
    />

    <input
      [(ngModel)]="form.phoneNumber"
      name="phoneNumber"
      type="tel"
      autocomplete="tel"
      placeholder="Telefonnummer"
      [disabled]="isLoading"
    />

    <div class="theme-selector" role="group" aria-label="Theme wählen">
  <button type="button"
          [class.active]="selectedTheme==='light'"
          (click)="selectTheme('light')">
    Hell
  </button>
  <button type="button"
          [class.active]="selectedTheme==='dark'"
          (click)="selectTheme('dark')">
    Dunkel
  </button>
</div>

    <button type="submit" [disabled]="isLoading || !f.form.valid">
      {{ isLoading ? 'Registriere…' : 'Registrieren' }}
    </button>
  </form>

  <p class="auth-switch">
    <a routerLink="/login">Schon ein Konto? Zum Login</a>
  </p>

  @if (errorMessage) {
    <div class="error-message" role="alert" aria-live="polite">
      {{ errorMessage }}
    </div>
  }
</div>
